\ProvidesPackage{penguins-template}
\usepackage[utf8]{inputenc}
\usepackage{color}
\usepackage{hyperref}
\usepackage{amsmath,amssymb}
\usepackage{titlesec}
\usepackage{geometry}
\usepackage{mathtools}
\usepackage{commath}
\usepackage{float}
\usepackage{caption}
\usepackage{fvextra}
\usepackage[export]{adjustbox}[2011/08/13]
\usepackage{indentfirst}
\usepackage{wrapfig}
\usepackage{euscript}
\usepackage[makeroom]{cancel}
\usepackage{enumitem}
\usepackage{tcolorbox}
\usepackage{tikzpagenodes}

% \usepackage[right]{lineno}

% Spacing and geometry of page
\geometry{margin=0.5in,tmargin=0.45in,bmargin=0.45in,footskip=0.25in}
\setlength{\parindent}{14pt}
\setlength{\parskip}{0.15em}
\titlespacing\section{0pt}{0.5em}{0pt}
\titlespacing\subsection{0pt}{0pt}{0pt}
\titlespacing\subsubsection{0pt}{0pt}{0pt}

% Title formats
% syntax: \titleformat{command}[shape]{format}{label}{sep}{before}[after]
% for running text: \titleformat{\subsection}[runin]{}{}{}{}[]

\titleformat{\section}{\normalfont\large\bfseries}{}{0em}{}
\titleformat{\subsection}{\normalsize\bfseries}{\arabic{subsection}.}{0.4em}{}
\titleformat{\subsubsection}[runin]{\normalfont\bfseries}{\noindent\thesubsubsection}{0.2em}{}[: \ ]

% Color definitions
\definecolor{verylightred}{rgb}{0.95,0.9,0.93}
\definecolor{verylightgray}{rgb}{0.9,0.9,0.9}
\definecolor{darkerblue}{rgb}{0,0,0.8}

% Hyperlink setups
\hypersetup{
    colorlinks      = true,
    linkcolor       = black,
	urlcolor        = darkerblue,
	anchorcolor     = black,
    citecolor       = black,
    filecolor       = black,
 	pdfborder       = {0 0 0},
}

% Figure and table captions
\captionsetup{
    margin          = 20pt,
    belowskip       = -10pt,
    font            = small,
    labelfont       = bf,
    justification   = justified
}

% Table settings
% setting padding here, from https://tex.stackexchange.com/questions/31672/column-and-row-padding-in-tables#31704
\setlength{\tabcolsep}{0.5em} % for the horizontal padding
\renewcommand{\arraystretch}{1.25}% for the vertical padding


% Boxes definitions
% 1. Todo-box
\newtcbox{\todoBox}{
    colframe        = verylightgray,
    colback         = verylightgray,
    boxrule         = 0pt,
    arc             = 4pt,
    boxsep          = 6pt,
    width           = \dimexpr\textwidth\relax,
    enlarge left by = 0mm,
    left            = 0pt,
    right           = 0pt,
    top             = 0pt,
    bottom          = 0pt
}

\newcommand{\inserttodo}[1]{
    \vspace{3pt}\todoBox{
        \begin{minipage}[t]{\textwidth-14pt}
            \noindent\textbf{TODO: }#1
        \end{minipage}
    }
}

% Enumitems spacing settings
\setitemize{noitemsep,topsep=0pt,parsep=0pt,partopsep=0pt,leftmargin=1.2em}
\setenumerate{nosep,topsep=0pt,parsep=0pt,partopsep=0pt,leftmargin=1.2em}

% Align equation spacing settings
% https://tex.stackexchange.com/questions/47400/remove-vertical-space-around-align
\usepackage{etoolbox}
\newcommand{\zerodisplayskips}{%
  \setlength{\abovedisplayskip}{0pt}%
  \setlength{\belowdisplayskip}{0pt}%
  \setlength{\abovedisplayshortskip}{-20pt}%
  \setlength{\belowdisplayshortskip}{0pt}}
\appto{\normalsize}{\zerodisplayskips}
\appto{\small}{\zerodisplayskips}
\appto{\footnotesize}{\zerodisplayskips}

% Import document-specific math definitions/shortcuts
\include{math-definitions}

% will conflict will Autoref (multple)
\AtBeginDocument{%
  \LetLtxMacro\hyperrefautoref\autoref
  \LetLtxMacro\autoref\firstboldautoref
}
\makeatletter
\DeclareRobustCommand\firstboldautoref{\@firstboldautoref}
\def\@firstboldautoref#1#{%
  \def\fb@autoref@star{#1}%
  \fb@autoref
}
\def\fb@autoref#1{%
    \global\expandafter\let\csname boldautoref@#1\endcsname\@empty
    \textbf{\expandafter\hyperrefautoref\fb@autoref@star{#1}}%
}
\makeatother

% autoref name
\renewcommand{\figureautorefname}{Fig.} % PS
\renewcommand{\equationautorefname}{Eq.} % PS
\renewcommand{\tableautorefname}{Table.} % PS
